# lazzari-et-al-2026-infertility-mar-japan
This repository contains replication files for the following article:

> Lazzari, Ester; Yoda, Shohei; Fukuda, Setsuya; Raymo, James M. (2026).  
> **A Research Note on the Role of Infertility and Medically Assisted Reproduction on the Realization of Ideal Family Size in Japan.**  
> *Demography*.

## Data Availability
The analyses use microdata from the **Japanese National Fertility Surveys (JNFS)** conducted by the National Institute of Population and Social Security Research (IPSS).  
Access to these microdata is restricted under the Japanese Statistics Act, and therefore the original microdata cannot be shared publicly in this repository.

Permission to use the data was obtained through a research project of the Department of Population Dynamics Research, IPSS, in accordance with Article 32 of the Statistics Act.  
Researchers may apply for secondary use of the JNFS microdata under Article 33 of the Statistics Act of Japan.

## Repository Structure
### 00_Data
This folder contains **aggregate data files** in tidy-data format that are used to generate the tables and figures reported in the manuscript. Each file includes the number of observations for all possible combinations of the variables used in the analyses. These aggregate datasets were constructed from the JNFS microdata.

- `tbl_Fig1.rds`: Data for Figure 1  
- `tbl_Fig2.rds`: Data for Figure 2  
- `tbl_Fig3.rds`: Data for Figure 3  
- `tbl_Tab1_Tab2_4.rds`:  
  - Table 1 (descriptive statistics)  
  - Tables 2–4 (linear probability models)

### 01_RScript
This folder contains the R scripts used to generate the results.

- `00_SetParameters.R`  
  - Loads required libraries and sets global parameters.

- `01_SelectVarsCases.R`  
  - Selects and recodes variables, filters analytic samples, and constructs the tibbles used for tables and figures.  
  - *Note:*
    - Running this script requires access to the JNFS microdata. The resulting tibbles are already saved in `00_Data`.
    - The JNFS microdata used in this study were harmonized across survey waves by the authors. As a result, this script cannot be applied directly to the raw JNFS microdata obtained through a secondary-use application. Questions regarding the data harmonization procedures can be directed to the authors.

- `02_DescStats.R`  
  - Replicates Figures 1–3 and Table 1.

- `03_LPM_Logit.R`  
  - Replicates Tables 2–4.

### 02_Output
This folder stores tables and figures generated by the R scripts above

